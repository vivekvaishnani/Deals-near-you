{"ast":null,"code":"import _classCallCheck from \"/Users/vivekpatel/Desktop/homework/Deals-local/Deals-local/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vivekpatel/Desktop/homework/Deals-local/Deals-local/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vivekpatel/Desktop/homework/Deals-local/Deals-local/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vivekpatel/Desktop/homework/Deals-local/Deals-local/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vivekpatel/Desktop/homework/Deals-local/Deals-local/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vivekpatel/Desktop/homework/Deals-local/Deals-local/client/src/components/Map/Map.js\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nvar style = {\n  width: '100%',\n  height: '50%'\n};\nexport var MapContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MapContainer, _Component);\n\n  function MapContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MapContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MapContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      locations: [],\n      showingInfoWindow: false,\n      activeMarker: {},\n      selectedPlace: {}\n    };\n\n    _this.loadLocations = function () {\n      API.getLocations().then(function (res) {\n        return _this.setState({\n          locations: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.onMarkerClick = function (props, marker, e) {\n      return _this.setState({\n        selectedPlace: props,\n        activeMarker: marker,\n        showingInfoWindow: true\n      });\n    };\n\n    _this.onMapClicked = function (props) {\n      if (_this.state.showingInfoWindow) {\n        _this.setState({\n          showingInfoWindow: false,\n          activeMarker: null\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(MapContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadLocations();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Map, {\n        google: this.props.google,\n        style: style,\n        initialCenter: {\n          lat: 39.952583,\n          lng: -75.165222\n        },\n        zoom: 14,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, MapContainer.state.locations.map(function (location) {\n        return React.createElement(Marker, {\n          title: location.title,\n          onClick: _this2.onMarkerClick,\n          name: location.name,\n          deal: location.deal,\n          position: {\n            lat: location.position.lat,\n            lng: location.position.lng\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        });\n      }), React.createElement(InfoWindow, {\n        marker: this.state.activeMarker,\n        visible: this.state.showingInfoWindow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.state.selectedPlace.name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, this.state.selectedPlace.deal))));\n    }\n  }]);\n\n  return MapContainer;\n}(Component);\nexport default GoogleApiWrapper({\n  apiKey: \"AIzaSyDqyyAR_LnkowfFljHgQNTzPYcE5VEp4b4\"\n})(MapContainer); // <Marker \n// //   title={'Seventh Heaven - Fresh rolled ice cream.'}\n// //   onClick={this.onMarkerClick}\n// //   name={'Seventh Heaven'}\n// //   deal={'5% off'}\n// //   position={{lat: 39.952533, lng: -75.171656}} />\n// <Marker \n// title={'Philadelphia city.'}\n// onClick={this.onMarkerClick}\n// name={'Philadelphia'}\n// deal={'no deals'}\n// position={{lat: 39.952583, lng: -75.165222}} />","map":{"version":3,"sources":["/Users/vivekpatel/Desktop/homework/Deals-local/Deals-local/client/src/components/Map/Map.js"],"names":["React","Component","API","Map","InfoWindow","Marker","GoogleApiWrapper","style","width","height","MapContainer","state","locations","showingInfoWindow","activeMarker","selectedPlace","loadLocations","getLocations","then","res","setState","data","catch","err","console","log","onMarkerClick","props","marker","e","onMapClicked","google","lat","lng","map","location","title","name","deal","position","apiKey"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport {Map, InfoWindow, Marker, GoogleApiWrapper} from 'google-maps-react';\n\nconst style = {\n  width: '100%',\n  height: '50%'\n}\n\n\n\nexport class MapContainer extends Component {\n  state = {\n    locations: [],\nshowingInfoWindow: false,\n    activeMarker: {},\n    selectedPlace: {},\n    \n  };\n\n  \n  \n\n\n  componentDidMount() {\n    this.loadLocations();\n  }\n\n  loadLocations = () => {\n    API.getLocations()\n      .then(res =>\n        this.setState({ locations: res.data})\n      )\n      .catch(err => console.log(err));\n  };\n\n  \n \n  onMarkerClick = (props, marker, e) =>\n    this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true\n    });\n \n  onMapClicked = (props) => {\n    if (this.state.showingInfoWindow) {\n      this.setState({\n        showingInfoWindow: false,\n        activeMarker: null,\n      })\n    }\n  }\n  \n  render() {\n    return (\n      \n      <Map google={this.props.google} \n          style={style}\n          initialCenter={{\n            lat: 39.952583,     \n            lng: -75.165222\n          }}\n          zoom={14}>\n           \n          \n          {\n                MapContainer.state.locations.map((location) => {\n                return <Marker\n                title={location.title}\n                onClick={this.onMarkerClick}\n                name={location.name}\n                deal={location.deal}\n                position={{lat: location.position.lat, lng: location.position.lng}}\n                />\n            }) \n          }\n        \n          \n         <InfoWindow\n          marker={this.state.activeMarker}\n          visible={this.state.showingInfoWindow}>\n            <div>\n              <h4>{this.state.selectedPlace.name}</h4>\n              <p>{this.state.selectedPlace.deal}</p>\n            </div>\n        </InfoWindow>\n        </Map>\n      \n    );\n  }\n}\n \nexport default GoogleApiWrapper({\n  apiKey: (\"AIzaSyDqyyAR_LnkowfFljHgQNTzPYcE5VEp4b4\")\n})(MapContainer)\n\n\n\n\n\n// <Marker \n// //   title={'Seventh Heaven - Fresh rolled ice cream.'}\n// //   onClick={this.onMarkerClick}\n// //   name={'Seventh Heaven'}\n// //   deal={'5% off'}\n// //   position={{lat: 39.952533, lng: -75.171656}} />\n\n\n // <Marker \n          // title={'Philadelphia city.'}\n          // onClick={this.onMarkerClick}\n          // name={'Philadelphia'}\n          // deal={'no deals'}\n          // position={{lat: 39.952583, lng: -75.165222}} />"]},"metadata":{},"sourceType":"module"}